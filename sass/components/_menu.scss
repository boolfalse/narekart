@import "../mixins";
@import "../variables";

.page-menu{
	position: fixed;
	top: 0;
	left: -300px;
//	left: 32px;
	display: block;
	z-index: 2;
	background: $white;
	height: 200%;
	padding: 32px;
	padding-top: 310px;
//	padding-right: 80px;
	width: 200px;
	padding-right: 0;
	transform: rotate(45deg) translateY(-300px);
//	transform: rotate(0deg) translateY(-300px);
//	opacity: 0;
//	visibility: hidden;
	transform-origin: top left;
	transition: 0.3s;
	
//	transition-delay: 0.3s;
//	transition-timing-function: cubic-bezier(.52, .42, 0, 1.01);
	li{
		position: relative;
		margin-bottom: 32px;
		transform-origin: top left;
		transform: rotate(-45deg) scale(1) translateX(40px);
		opacity: 0;
		transition: 0s;
		transition-delay: 0.0s;
		transition-timing-function: cubic-bezier(.52, .42, 0, 1.01);
		a{
			color: $black;
			font-family: $condensed;
			vertical-align: middle;
			display: block;
			height: 40px;
			padding-top: 16px;
			padding-bottom: 16px;
		}
		.icon{
			display: inline-block;
			width: 40px;
			height: 40px;
			padding-top: 11px;
			line-height: 1;
			background: $black;
			color: #fff;
			border-radius: 2px;
			text-align: center;
			vertical-align: middle;
			margin-right: 8px;
			position: relative;
			transition: 0.3s;
		}
		.icon:after{
			$pos : 20px;
			position: absolute;
			left: $pos;
			top: $pos;
			right: $pos;
			bottom: $pos;
			content: "";
			background: #fff;
			opacity: 0;
			z-index: -1;
			border-radius: 40px;
			transition: 0.3s;
		}
	}
	&.menu-visible{
		visibility: visible;
		opacity: 1;
		left: 236px;
		transform: rotate(45deg) translateY(-300px);
		$slide_speed : 0.05s;
		$delay : 0.2s;
		li{
			transition: 0.3s;
			opacity: 1;
			transform: rotate(-45deg) scale(1) translateX(-0);
			transition-timing-function:  cubic-bezier(.95, .31, .51, 1.39);
		}
		@for $i from 1 through 10 {
			li:nth-child(#{$i}){
				transition-delay: $i*$slide_speed + $delay;
			}
		}
		/*li:nth-child(1){
			transition-delay: $slide_speed + $delay;
		}
		li:nth-child(2){
			transition-delay: 2*$slide_speed + $delay;
		}*/
	}
	li.active{
		.icon{
			background: $color1;
		}
	}
	li:not(.active):hover{
		.icon{
			color: $color1;
		}
		.icon:after{
			$pos : 0px;
			left: $pos;
			top: $pos;
			right: $pos;
			bottom: $pos;
			opacity: 1;
		}
	}
}

.menu-icon{
	float: left;
	position: fixed;
	z-index: 11;
	top: 0px;
	padding: 40px;
	left: 0px;
	transition: 0.3s;
	&:after{
		display: none;
	}
	&:before{
		position: absolute;
		z-index: 1;
		content: "";
		transform: rotate(45deg);
		background: $white;
		width: 300%;
		height: 300%;
		top: -150%;
		left: -150%;
	}
	.bars{
		content: "";
		display: block;
		width: 32px;
		height: 32px;
		float: right;
		position: absolute;
		z-index: 2;
		.bar1,
		.bar2,
		.bar3{
//			float: left;
			display: block;
			content: "";
			height: 2px;
			width: 32px;
			background: $black;
/*				margin: auto;*/
			margin-bottom: 10px;
			-webkit-transition: 0.3s;
			transition: 0.3s;
		}
		.bar2{
			width: 16px;
			width: 20px;
		}
		.bar3{
			width: 8px;
		}
	}
	&.menu-visible{
		.bars{
			.bar1,
			.bar3{
				width: 16px;
			}
			.bar2{
				width: 32px;
			}
			
		}
	}
}
	
