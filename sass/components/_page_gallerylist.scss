@import "../mixins";
@import "../variables";


.section{
	.content{
		
		.gallery-slides{
//			margin: 0 128px;
			.c-gallery{
				$padding : 16px;
				margin-top: -$padding;
				margin-bottom: $padding;
				margin-left: -$padding;
				margin-right: -$padding;
				max-width: none;
				li{
					padding: $padding;
					position: relative;
					.item-img{
						position: relative;
						width: 100%;
						height: 0;
						padding-bottom: 100%;
						content: "";
						background: $black;
						transition: 0.3s;
						.img{
							position: absolute;
							content: "";
							top: 0;
							left: 0%;
							right: 00%;
							bottom: 00%;
//							bottom: 00%;
							transition: 0.3s;
//								transition-timing-function: cubic-bezier(0, .38, .11, 1);
							transition-timing-function: cubic-bezier(.52, .42, 0, 1.01);
							&:before{
								position: absolute;
								top: 0;
								left: 0;
								right: 0;
								bottom: 0;
	//								bottom: 100%;
								content: "";
								background: url("../img/gradient.png") no-repeat;
								background-size: cover;
								background-position: bottom;
								opacity: 1;
								transition: 0.3s;
							}
							&:after{
								position: absolute;
								top: 0;
								left: 0;
								right: 0;
								bottom: 100%;
								content: "";
								background: $black;
								opacity: 1;
								transition: 0.3s;
							}
						}
					}
					.item-desc{
						position: absolute;
						bottom: $padding+16px;
						left: $padding+16px;
						right: $padding+16px;
						h3{
							font-size: 18px;
							color: $white;
							text-transform: uppercase;
							letter-spacing: 0.2em;
							font-family: $condensed;
							padding-bottom: 8px;
							position: relative;
							&:after{
								position: absolute;
								bottom: -2px;
								background: $color1;
								left: 0;
								width: 64px;
								height: 4px;
								content: "";
								transition: 0.3s;
							}
						}
						p{
							margin-bottom: 0;
							font-size: 14px;
							font-family: $sans;
							color: $white;
						}
						&:before{
							content: "";
							position: absolute;
							right: 0;
							bottom: 4px;
							width: 16px;
							height: 16px;
							border-radius: 16px;
							background: $color1;
							transition: 0.3s;
						}
						&:after{
							content: "";
							position: absolute;
							right: 6px;
							bottom: 9px;
							width: 6px;
							height: 6px;
							border: 2px solid $white;
							border-left: none;
							border-bottom: none;
							transform: rotate(45deg);
							transition: 0.3s;
						}
					}
					&:hover{
						.item-img{
							transform: scale(1.12);	
							.img{
								&:before{
									opacity: 0;
								}
							}
						}
						.item-desc{
							&:before{
								background: $white;
								transform: scale(1.2);
							}
							&:after{
								border-color: $color1;
							}
							h3{
								&:after{
//									width: 32px !important;
//									transition-delay: 0s !important;
								}
							}
						}
					}
					
					// animated
					@media (min-width : 720px){
					&.anim{
						opacity: 0;
						transition: 0.3s;
						transition-delay: 0;
						.item-img{
							.img{
								position: absolute;
								content: "";
								top: 0;
								left: 0%;
								right: 00%;
								bottom: 100%;
	//							bottom: 00%;
								transition: 0.3s;
							}
						}
						.item-desc{
							h3{
								&:after{
									width: 0;
									transition-delay: 0;
								}
							}
						}
					}
					}
				}
			}
		}
	}
	&.active{
		.content{
			.c-gallery{
				@media (min-width : 720px){
				li.anim{
					$begin : 0.6s;
//					$param : 0.05;
					$param : 0.07;
					@for $i from 1 through 50 {
						&:nth-child(#{$i}){
							opacity: 1;
							transition-delay: ($begin - $param) + $i*$param + 0s;
							.item-img{
								.img{
									bottom: 0%;
									left: 0%;
									right: 0%;
									top: 0%;
									transition-delay: ($begin - $param) + $i*$param + 0.3s;
								}
							}
							.item-desc{
								h3{
									&:after{
										width: 64px;
										transition-delay: ($begin - $param) + $i*$param + 0.3s;
									}
								}
							}
						}
					}
				}
				}
			}
		}
	}
}